geom_linerange(aes(x = Xp, ymin = ymin, ymax = ymax), na.rm = TRUE)+
geom_linerange(aes(xmin = xmin, xmax = xmax, y = YaxisMax+(lineheight)))+
geom_vline(xintercept = unique(jitter$Grp)[-which(unique(jitter$Grp) == max(unique(jitter$Grp)))]+0.5, linetype = "f8", alpha = 0.4)+
theme_classic()+
annotation_logticks(sides = "l")+
# scale_y_log10(breaks = 10^(0:7),
#               label = c(expression(bold("10"^"0")),
#                         expression(bold("10"^"1")),
#                         expression(bold("10"^"2")),
#                         expression(bold("10"^"3")),
#                         expression(bold("10"^"4")),
#                         expression(bold("10"^"5")),
#                         expression(bold("10"^"6")),
#                         expression(bold("10"^"7"))),
#               expand = c(0, 0))+
scale_y_continuous()
scale_x_continuous(breaks = distinct(jitter,Xp)$Xp,
labels = rep(AvisitLabel,length(unique(jitter$Grp))))
ggplot(final) +
geom_col(aes(x = Xp, y = means, fill = factor(Grp)), alpha = 0.3, na.rm = TRUE)+
geom_point(aes(x = XpDot, y = AVAL, color = factor(Grp)), na.rm = TRUE, size = 0.5)+
geom_errorbar(aes(x = Xp, ymin = yerrl, ymax = yerru))+
geom_text(aes(x = Xp, y = YaxisMax, label = as.character(round(means))), na.rm = TRUE, family = "sans", fontface = "bold", size = 4)+
geom_text(aes(x = Xp, y = 0.25, label = nlabel), na.rm = TRUE, family = "sans", fontface = "bold", size = 4)+
geom_text(aes(x = Grp, y = 0.1, label = GrpLabel), na.rm = TRUE, family = "sans", fontface = "bold", size = 4)+
geom_text(aes(x = Xp-Xfactor, y = YaxisMax+(lineheight), label = foldlabel), na.rm = TRUE, family = "sans", fontface = "bold", size = 4)+
geom_linerange(aes(x = Xp, ymin = ymin, ymax = ymax), na.rm = TRUE)+
geom_linerange(aes(xmin = xmin, xmax = xmax, y = YaxisMax+(lineheight)))+
geom_vline(xintercept = unique(jitter$Grp)[-which(unique(jitter$Grp) == max(unique(jitter$Grp)))]+0.5, linetype = "f8", alpha = 0.4)+
theme_classic()+
annotation_logticks(sides = "l")+
# scale_y_log10(breaks = 10^(0:7),
#               label = c(expression(bold("10"^"0")),
#                         expression(bold("10"^"1")),
#                         expression(bold("10"^"2")),
#                         expression(bold("10"^"3")),
#                         expression(bold("10"^"4")),
#                         expression(bold("10"^"5")),
#                         expression(bold("10"^"6")),
#                         expression(bold("10"^"7"))),
#               expand = c(0, 0))+
scale_y_continuous()
scale_x_continuous(breaks = distinct(jitter,Xp)$Xp,
labels = rep(AvisitLabel,length(unique(jitter$Grp))))+
labs(y = YLabel, x = NULL)
signalCondition(cnd)
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
setwd(dir = "D:/360Downloads/R/project/GMT/GMTPackage/gmtplot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
setwd(dir = "D:/360Downloads/R/project/GMT/GMTPackage/gmtplot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
seq(0,200,by = 10)
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
adis <- read_sas("adis.sas7bdat")
adis <- adis %>%
dplyr::filter(IFAS == "是", PARAMCD == "IFN", ANL01FL == "是", AVISITN %in% c(0,90)) %>%
mutate(Gvar = if_else(AGE>=48, 3, TRTAN),
BASE = if_else(BASE == 0, 1, BASE),
AVAL = if_else(AVAL == 0, 1, AVAL)) %>%
filter(Gvar %in% c(1,2,3))
gmtplot(datain = adis,
GrpVar = adis$Gvar,
GrpLabel = c("G", "Group B", "C"),
AvisitnVar = adis$AVISITN,
AvisintVal = c(0, 90),
AvisitLabel = c("D0", "D90"),
Aval = adis$AVAL,
Base = adis$BASE,
YLabel = "PRNT50LLL",
LegendLabel = c("V01E","V01E-2"),
colorSet = c("grey", "blue", "red"),
LineYN = FALSE,
LegendYN = FALSE,
FigureName = "gmt_plot")
devtools::document()
load_all()
devtools::build()
