devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::build()
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
setwd(dir = "D:/360Downloads/R/project/GMT/GMTPackage/gmtplot")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) #%>%
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AETERM,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
View(adae)
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
View(adae)
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
View(bign)
View(dataADAE)
View(freq1)
freq1 <- bind_rows(mutate(dataADAE, Trtan = GrpVar,
AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN),
mutate(dataADAE, Trtan = GrpVar, Trtan = 9,
AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN)) %>%
mutate(ATOXGRN, if_else(ATOXGRN > 3, 3, ATOXGRN),
AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN) %>%
arrange(USUBJID, Trtan, AEDECOD, desc(ATOXGRN)) %>%
distinct(USUBJID, Trtan, AEDECOD, .keep_all = TRUE) %>%
count(Trtan, AEDECOD, ATOXGRN) %>%
left_join(bign, by = c("Trtan")) %>%
mutate(pct = 100*n/bign)
View(freq1)
freq1 <- bind_rows(mutate(dataADAE, Trtan = GrpVar,
AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN),
mutate(dataADAE, Trtan = GrpVar, Trtan = 9,
AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN)) %>%
mutate(ATOXGRN, if_else(ATOXGRN > 3, 3, ATOXGRN),
# AEDECOD = AEDECOD,
ATOXGRN = ATOXGRN) %>%
arrange(USUBJID, Trtan, AEDECOD, desc(ATOXGRN)) %>%
distinct(USUBJID, Trtan, AEDECOD, .keep_all = TRUE) %>%
count(Trtan, AEDECOD, ATOXGRN) %>%
left_join(bign, by = c("Trtan")) %>%
mutate(pct = 100*n/bign)
View(freq1)
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
View(freq1)
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN)) #%>%
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN)) %>%
mutate(AEDECOD_TEXT = str_replace_all(AEDECOD,"注射部位",""))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C","d"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::document()
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN))
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性局部不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD_TEXT,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRN = adae$ATOXGRN,
AEDECOD = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
devtools::build()
build_readme()
build_readme()
build_readme()
build_readme()
build_readme()
devtools::document()
load_all()
library(haven)
library(devtools)
library(dplyr)
load_all()
adsl <- read_sas("adsl.sas7bdat") %>%
filter(SAFFL == "是") %>%
mutate(TRT01AN = if_else(AGE>=60, TRT01AN+2, TRT01AN))
adae <- read_sas("adae.sas7bdat") %>%
filter(SAFFL == "是", AECAT == "征集性不良事件", AESCAT == "征集性全身不良事件", COHORTN == 1) %>%
mutate(TRTAN = if_else(AGE>=60, TRTAN+2, TRTAN))
aetoxgrplot(dataADSL = adsl,
dataADAE = adae,
GrpVar = adae$TRTAN,
GrpADSLVar = adsl$TRT01AN,
GrpLabel = c("V01A","B","C"),
ATOXGRNVar = adae$ATOXGRN,
AEDECODVar = adae$AEDECOD,
Ylabel = c("不良事件发生率（%）"),
colorSet = c("red", "blue", "grey"),
FigureName = "aetox")
build_readme()
