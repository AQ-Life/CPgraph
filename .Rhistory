XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
p1 <- ggplot(survdata) +
geom_step(aes(x = time, y = surv, group = StratumNum, color = factor(StratumNum))) +
geom_point(aes(x=time, y=surv_cnsr), shape = 3) +
geom_label(label = "+ Censored",x=MaxAval,y=1, size = 3, hjust = "inward") +
labs(x=XLabel, y=YLabel) +
scale_x_continuous(breaks=seq(0,MaxAval,by=ByTime), limits = c(0,MaxAval)) +
scale_y_continuous(breaks=seq(0,1,by=0.1), limits = c(0,1)) +
theme_classic()+
scale_color_manual(values = PlotColor(length(GrpLabel)),
labels = GrpLabel)+
# coord_cartesian( clip = "off") +
theme(legend.position = c(0.1,0.15),
# legend.direction = "horizontal",
legend.title = element_blank(),
legend.background = element_blank(),
axis.title.y = element_text(margin = margin(r = -20)),
axis.text = element_text(color = "black"),
text = element_text(family = "sans",
face = "bold",
color = "black",
size = 10))
p2 <- ggplot(risktable) +
geom_text(aes(x = time, y = -StratumNum, label = risk, color = factor(StratumNum)),
size = 2.5)+
theme_classic()+
scale_x_continuous(breaks=seq(0,MaxAval,by=ByTime), limits = c(0,MaxAval)) +
scale_y_continuous(breaks=-seq(1:length(GrpLabel)),
labels = GrpLabel) +
scale_color_manual(values = PlotColor(length(GrpLabel)))+
theme(legend.position = "none",
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(), panel.border = element_blank(),
axis.line = element_line(linewidth = 0),
plot.title = element_text(family = "sans",
face = "bold",
color = "black",
size = 10),
text = element_text(family = "sans",
face = "bold",
color = "black",
size = 10),
axis.text.x = element_blank(), axis.ticks = element_blank(),
axis.text.y = element_text(hjust = 1, color = "black"))+
labs(x = NULL, y = NULL, title = RiskLabel)
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" & LINE=="1" ~ 2,
COHORT=="队列3-A" & LINE=="2" ~ 3,
COHORT=="队列3-B" ~ 4))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" 2,
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C","gROUP d"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
setwd(dir = "D:/360Downloads/R/project/GMT/GMTPackage/gmtplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
View(adtte)
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
setwd(dir = "D:/360Downloads/R/project/GMT/GMTPackage/gmtplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
devtools::document()
load_all()
adtte <- read_sas("adtte.sas7bdat") %>%
filter(FASFL=='Y', ADAPT=='结直肠癌', PARAMCD=='OS') %>%
mutate(COHORTN = case_when(COHORT=="队列2" ~ 1,
COHORT=="队列3-A" ~ 2,
COHORT=="队列3-B" ~ 3))
kmplot(datain = adtte,
GrpVar = adtte$COHORTN,
GrpLabel = c("Group A", "B","C"),
AVALVar = adtte$AVAL,
CNSRVar = adtte$CNSR,
ByTime = 2,
XLabel = "XXXX",
YLabel = "YYYY",
RiskLabel = "Number at risk",
colorSet = c("grey", "blue", "red"),
FigureName = "kmplot")
build_readme()
build_readme()
build_readme()
